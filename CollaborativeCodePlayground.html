<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CollabCode ¬∑ real‚Äëtime playground</title>
    <!-- Font & icon CDN for a fresh, modern look -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
        }
        body {
            background: #0f172a;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }
        .main-card {
            width: 1400px;
            max-width: 100%;
            background: #1e293b;
            border-radius: 32px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.8), 0 0 0 1px #334155 inset;
            overflow: hidden;
            backdrop-filter: blur(2px);
        }
        /* header ‚Äì second‚Äëyear vibe: team tool */
        .toolbar {
            background: #0b1120;
            padding: 18px 28px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #2d3a4e;
            color: #e2e8f0;
        }
        .logo-area {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .logo-area i {
            font-size: 1.9rem;
            color: #38bdf8;
            filter: drop-shadow(0 0 6px #0ea5e9);
        }
        .logo-area h2 {
            font-weight: 500;
            letter-spacing: 0.5px;
        }
        .logo-area span {
            background: #2d3a4e;
            padding: 4px 12px;
            border-radius: 40px;
            font-size: 0.8rem;
            font-weight: 400;
            color: #a5b4cb;
            margin-left: 12px;
        }
        .action-buttons {
            display: flex;
            gap: 12px;
        }
        .action-buttons button {
            background: #263445;
            border: none;
            color: #b9c8e0;
            padding: 10px 18px;
            border-radius: 40px;
            font-weight: 500;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: 0.2s;
            border: 1px solid #3f4f64;
        }
        .action-buttons button:hover {
            background: #2f4057;
            color: white;
            border-color: #60a5fa;
        }
        .action-buttons button i {
            font-size: 1rem;
        }
        #shareBtn {
            background: #1e3a5f;
            border-color: #3b82f6;
            color: white;
        }
        #shareBtn:hover {
            background: #2563eb;
        }

        /* 3‚Äëpane editor area */
        .pane-container {
            display: flex;
            flex-wrap: wrap; /* responsive */
        }
        .editor-pane {
            flex: 1 1 240px;
            min-width: 260px;
            background: #1a2534;
            border-right: 1px solid #2b3a4b;
            display: flex;
            flex-direction: column;
        }
        .editor-pane:last-child {
            border-right: none;
        }
        .pane-header {
            padding: 12px 18px;
            background: #131f2c;
            color: #aab9d4;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: 1px solid #26384b;
            letter-spacing: 0.3px;
        }
        .pane-header i {
            font-size: 1.1rem;
            width: 24px;
            color: #5fb2ff;
        }
        .pane-header .badge {
            background: #25405b;
            margin-left: auto;
            font-size: 0.7rem;
            padding: 2px 10px;
            border-radius: 30px;
            color: #b9d0f0;
        }
        textarea {
            width: 100%;
            flex: 1;
            background: #0f1a24;
            border: none;
            padding: 20px 18px;
            color: #e3eaf3;
            font-family: 'Fira Code', 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            resize: vertical;
            outline: none;
            line-height: 1.5;
            caret-color: #60a5fa;
        }
        textarea::placeholder {
            color: #486177;
            font-style: italic;
        }

        /* live preview + console hybrid */
        .output-section {
            background: #0d1420;
            border-top: 2px solid #263b4c;
        }
        .preview-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 28px;
            background: #0e1a24;
            color: #b7cae2;
        }
        .preview-header .liver-badge {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .live-dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            background: #10b981;
            border-radius: 50%;
            box-shadow: 0 0 12px #10b981;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } }
        .preview-header button {
            background: none;
            border: 1px solid #3f5a74;
            color: #ccddec;
            padding: 6px 18px;
            border-radius: 40px;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
        }
        .preview-header button:hover {
            background: #28445c;
        }
        .preview-box {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
        }
        .render-frame {
            flex: 2 1 500px;
            background: white;
            min-height: 280px;
            background: #f8fafc;
            border-radius: 0 20px 0 0;
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.05);
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
            display: block;
        }
        .console-panel {
            flex: 1 1 240px;
            background: #0b141e;
            color: #d6dee7;
            font-family: monospace;
            padding: 16px 18px;
            border-left: 1px solid #233549;
            font-size: 0.8rem;
            max-height: 320px;
            overflow-y: auto;
        }
        .console-panel .console-title {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #96b4d4;
            border-bottom: 1px solid #253649;
            padding-bottom: 6px;
            margin-bottom: 12px;
            font-weight: 600;
        }
        #consoleOutput {
            list-style: none;
        }
        #consoleOutput li {
            padding: 5px 0;
            border-bottom: 1px dotted #253649;
            color: #c3d0e0;
            word-break: break-word;
            font-family: 'Fira Code', monospace;
        }
        #consoleOutput li.error {
            color: #f87171;
        }
        #consoleOutput li.success {
            color: #4ade80;
        }

        /* footer */
        .footer-note {
            background: #0c1620;
            padding: 12px 28px;
            font-size: 0.8rem;
            color: #768aa3;
            display: flex;
            gap: 24px;
            border-top: 1px solid #253141;
        }
    </style>
</head>
<body>
<div class="main-card">
    <!-- header: looks like a team collaboration tool -->
    <div class="toolbar">
        <div class="logo-area">
            <i class="fas fa-code-branch"></i>
            <h2>CollabCode <span style="background:#1e3a5f;">beta¬∑2nd year</span></h2>
        </div>
        <div class="action-buttons">
            <button id="resetBtn"><i class="fas fa-undo-alt"></i> Reset to demo</button>
            <button id="shareBtn"><i class="fas fa-share-alt"></i> Share snapshot</button>
        </div>
    </div>

    <!-- 3 editors: HTML, CSS, JS -->
    <div class="pane-container">
        <!-- HTML pane -->
        <div class="editor-pane">
            <div class="pane-header"><i class="fab fa-html5"></i> index.html <span class="badge">structure</span></div>
            <textarea id="htmlInput" placeholder="<!-- your HTML here -->" spellcheck="false">&lt;div class="card"&gt;
  &lt;h2&gt;‚ú® real‚Äëtime editor&lt;/h2&gt;
  &lt;p&gt;Try me ‚Äì change any code &lt;i&gt;instantly&lt;/i&gt; previews.&lt;/p&gt;
  &lt;button id="testBtn"&gt;click me ‚ú¶&lt;/button&gt;
&lt;/div&gt;</textarea>
        </div>
        <!-- CSS pane -->
        <div class="editor-pane">
            <div class="pane-header"><i class="fab fa-css3-alt"></i> style.css <span class="badge">modern</span></div>
            <textarea id="cssInput" placeholder="/* your CSS */" spellcheck="false">body {
  background: linear-gradient(145deg, #f0f4fa, #dae5f0);
  display: flex;
  height: 100vh;
  margin: 0;
  align-items: center;
  justify-content: center;
  font-family: 'Segoe UI', sans-serif;
}
.card {
  background: rgba(20, 30, 45, 0.9);
  backdrop-filter: blur(4px);
  padding: 2rem 2.8rem;
  border-radius: 48px;
  box-shadow: 0 30px 45px -20px #0f172a;
  text-align: center;
  color: white;
  border: 1px solid #ffffff30;
}
.card h2 { color: #b3d9ff; margin-bottom: 0.5rem; }
.card p { color: #cbd5e1; margin: 0.8rem 0; }
.card button {
  background: #3b82f6;
  border: none;
  color: white;
  padding: 8px 24px;
  border-radius: 40px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.2s;
  border: 1px solid #a3c6ff;
}
.card button:hover { background: #2563eb; transform: scale(1.02); }</textarea>
        </div>
        <!-- JS pane -->
        <div class="editor-pane">
            <div class="pane-header"><i class="fab fa-js"></i> script.js <span class="badge">interactive</span></div>
            <textarea id="jsInput" placeholder="// your JavaScript" spellcheck="false">const btn = document.getElementById('testBtn');
if(btn) {
  btn.addEventListener('click', () => {
    document.querySelector('.card').innerHTML += ' üéâ  live update!';
    console.log('üéØ button clicked ‚Äì you rock!');
  });
}
console.log('‚ö° script loaded (2nd year project)');</textarea>
        </div>
    </div>

    <!-- live preview + dev console -->
    <div class="output-section">
        <div class="preview-header">
            <div class="liver-badge">
                <span class="live-dot"></span>
                <span>‚ö° live preview ¬∑ interactive console</span>
            </div>
            <button id="runNowBtn"><i class="fas fa-sync-alt"></i> force refresh</button>
        </div>
        <div class="preview-box">
            <div class="render-frame">
                <iframe id="preview" sandbox="allow-scripts allow-same-origin allow-forms allow-popups" title="live preview"></iframe>
            </div>
            <div class="console-panel">
                <div class="console-title"><i class="fas fa-terminal"></i> developer console (browser)</div>
                <ul id="consoleOutput">
                    <li class="success">‚úÖ ready ‚Äî code and see instantly</li>
                    <li>‚áÑ edit any pane ‚Üí preview updates</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- footer ‚Äì project context -->
    <div class="footer-note">
        <span><i class="far fa-clock"></i> 2nd year ¬∑ computer engineering ¬∑ collab tool</span>
        <span><i class="fas fa-user-friends"></i> built for portfolio ‚Äî no frameworks, pure html/css/js</span>
    </div>
</div>

<script>
    (function() {
        // DOM elements
        const htmlInput = document.getElementById('htmlInput');
        const cssInput = document.getElementById('cssInput');
        const jsInput = document.getElementById('jsInput');
        const previewFrame = document.getElementById('preview');
        const consoleList = document.getElementById('consoleOutput');
        const resetBtn = document.getElementById('resetBtn');
        const shareBtn = document.getElementById('shareBtn');
        const runBtn = document.getElementById('runNowBtn');

        // preserve original demo (reset)
        const DEMO_HTML = htmlInput.value;
        const DEMO_CSS = cssInput.value;
        const DEMO_JS = jsInput.value;

        // override console.log to capture logs into our console panel
        function captureLogs(iframeWindow) {
            if (!iframeWindow) return;
            const originalConsole = iframeWindow.console;
            const log = (...args) => {
                // push to our custom console
                const msg = args.map(arg => {
                    try { return typeof arg === 'object' ? JSON.stringify(arg) : String(arg); } 
                    catch { return String(arg); }
                }).join(' ');
                addConsoleMessage(msg, 'log');
                originalConsole.log(...args);  // keep native (optional)
            };
            const error = (...args) => {
                const msg = args.map(arg => String(arg)).join(' ');
                addConsoleMessage('üö® ' + msg, 'error');
                originalConsole.error(...args);
            };
            iframeWindow.console.log = log;
            iframeWindow.console.error = error;
            iframeWindow.console.warn = (...args) => {
                addConsoleMessage('‚ö†Ô∏è ' + args.join(' '), 'log');
                originalConsole.warn(...args);
            };
        }

        // add message to console panel (limit to 15)
        function addConsoleMessage(text, type = 'log') {
            const li = document.createElement('li');
            li.textContent = text;
            if (type === 'error') li.classList.add('error');
            else if (type === 'success') li.classList.add('success');
            consoleList.appendChild(li);
            // keep scroll at bottom
            const consolePanel = document.querySelector('.console-panel');
            consolePanel.scrollTop = consolePanel.scrollHeight;
            // trim old items
            while (consoleList.children.length > 12) {
                consoleList.removeChild(consoleList.firstChild);
            }
        }

        // core render function: inject html/css/js into iframe
        function updatePreview() {
            const html = htmlInput.value;
            const css = cssInput.value;
            const js = jsInput.value;

            // construct a full document with inline style/script
            const documentContent = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <style>${css}</style>
                </head>
                <body>
                    ${html}
                    <script>
                        (function() {
                            try {
                                ${js}
                            } catch (e) {
                                console.error(e);
                            }
                        })();
                    <\/script>
                </body>
                </html>
            `;

            // write into iframe
            previewFrame.srcdoc = documentContent;  // srcdoc keeps it clean

            // attempt to capture console after loading (with slight delay)
            setTimeout(() => {
                try {
                    const iframeDoc = previewFrame.contentDocument || previewFrame.contentWindow?.document;
                    const iframeWin = previewFrame.contentWindow;
                    if (iframeWin) {
                        captureLogs(iframeWin);
                        // also redirect onerror
                        iframeWin.addEventListener('error', (e) => {
                            addConsoleMessage('Uncaught: ' + e.message, 'error');
                        });
                    }
                } catch (err) {
                    // cross origin? sandbox usually fine
                }
            }, 60);
        }

        // initial preview
        updatePreview();

        // event listeners: update on any input with debounce
        let timer;
        function debounceUpdate() {
            clearTimeout(timer);
            timer = setTimeout(() => {
                updatePreview();
                addConsoleMessage('‚Üª preview updated', 'success');
            }, 350);
        }

        htmlInput.addEventListener('input', debounceUpdate);
        cssInput.addEventListener('input', debounceUpdate);
        jsInput.addEventListener('input', debounceUpdate);

        // force refresh button
        runBtn.addEventListener('click', () => {
            updatePreview();
            addConsoleMessage('‚ü≥ manual refresh', 'log');
        });

        // reset to demo
        resetBtn.addEventListener('click', () => {
            htmlInput.value = DEMO_HTML;
            cssInput.value = DEMO_CSS;
            jsInput.value = DEMO_JS;
            updatePreview();
            addConsoleMessage('‚Ü∫ reset to demo template', 'success');
            // clear console a bit?
            while (consoleList.firstChild) consoleList.removeChild(consoleList.firstChild);
            addConsoleMessage('‚Ü∫ reset ¬∑ demo loaded', 'success');
            addConsoleMessage('ready for your experiments', 'log');
        });

        // share button: generates a "snapshot" alert (simulate sharing)
        shareBtn.addEventListener('click', () => {
            // in a real project you'd shorten / encode, here just a mini representation
            const snapshot = btoa(htmlInput.value.slice(0, 30) + '...' + cssInput.value.length + '...' + jsInput.value.length);
            addConsoleMessage('üîó shareable snapshot (fake) #' + snapshot.slice(0,8), 'success');
            alert('‚ú® [simulated] snapshot copied to clipboard (team share feature)\n\nIn production: generate short URL / save to cloud.');
        });

        // extra: demo initial console greet from iframe already captured

        // ensure we also log when page loads inside iframe (settimeout in capture)
        window.addEventListener('load', () => {
            addConsoleMessage('‚öôÔ∏è collab playground ready (2nd year project)');
        });

        // clear console occasionally? we keep it tidy.
    })();
</script>
<!-- extra note: no external libs used, pure html/css/js, project is unique -->
</body>
</html>